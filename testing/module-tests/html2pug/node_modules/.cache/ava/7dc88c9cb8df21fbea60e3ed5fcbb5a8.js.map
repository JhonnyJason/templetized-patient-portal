{"version":3,"names":["_ava","_interopRequireDefault","require","_index","e","__esModule","default","test","t","html","pug","generated","html2pug","spaces","is","fragment","falsy","startsWith","expected","tabs","commas","doubleQuotes"],"sourceRoot":"/home/lenny/thingies/templetized-patient-portal/testing/module-tests/html2pug","sources":["test.js"],"sourcesContent":["import test from 'ava'\nimport html2pug from '../../../cli-implementation/src/html2pug/index.js'\n\ntest('transforms html document to pug with default options', t => {\n  const html = `<!doctype html>\n<html lang=\"en\">\n  <head>\n    <meta charset=\"utf-8\" />\n    <title>Hello World!</title>\n  </head>\n  <body data-page=\"home\">\n    <header id=\"nav\">\n      <h1 class=\"heading\">Hello, world!</h1>\n    </header>\n  </body>\n</html>`\n\n  const pug = `doctype html\nhtml(lang='en')\n  head\n    meta(charset='utf-8')\n    title Hello World!\n  body(data-page='home')\n    header#nav\n      h1.heading Hello, world!`\n\n  const generated = html2pug(html, {spaces:2})\n  t.is(generated, pug)\n})\n\ntest('result contains no outer html element when fragment is truthy', t => {\n  const generated = html2pug('<h1>Hello World!</h1>', { fragment: true, spaces:2 })\n  t.falsy(generated.startsWith('html'))\n})\n\ntest('respects whitespace within elements', t => {\n  const html = `<!doctype html>\n<html lang=\"en\">\n  <head>\n    <style type=\"text/css\">\n* {\n  margin: 0;\n  padding: 0;\n}\n    </style>\n  </head>\n  <body>\n    <script type=\"text/javascript\">\n$(document).ready(function() {\n  console.log('ready')\n})\n    </script>\n  </body>\n</html>`\n\n  const pug = `doctype html\nhtml(lang='en')\n  head\n    style(type='text/css').\n      \n      * {\n        margin: 0;\n        padding: 0;\n      }\n      \n  body\n    script(type='text/javascript').\n      \n      $(document).ready(function() {\n        console.log('ready')\n      })\n      `\n\n  const generated = html2pug(html, {spaces:2})\n  t.is(generated, pug)\n})\n\ntest('creates multiline block when linebreaks are present', t => {\n  const html = '<textarea>multi\\nline\\nstring</textarea>'\n  const pug = `textarea.\n  multi\n  line\n  string`\n\n  const generated = html2pug(html, { fragment: true, spaces:2 })\n  t.is(generated, pug)\n})\n\ntest('uses div tag shorthand when id/class is present', t => {\n  const html = \"<div id='foo' class='bar'>baz</div>\"\n  const pug = '#foo.bar baz'\n\n  const generated = html2pug(html, { fragment: true, spaces:2 })\n  t.is(generated, pug)\n})\n\ntest('removes whitespace between HTML elements', t => {\n  const html = \n`<ul class=\"list\">\n  <li>one</li>\n  <li>two</li>\n\n  <li>three</li>\n\n\n  <li>four</li>\n</ul>`\n\n  const pug = \n`ul.list\n  li one\n  li two\n  li three\n  li four`\n\n  const generated = html2pug(html, { fragment: true, spaces: 2 })\n  t.is(generated, pug)\n})\n\ntest('does not fail on unicode characters', t => {\n  const generated = html2pug('<h1 class=\"accents\">â, é, ï, õ, ù</h1>', {\n    fragment: true, spaces: 2\n  })\n  const expected = 'h1.accents â, é, ï, õ, ù'\n\n  t.is(generated, expected)\n})\n\ntest('uses tabs when tabs is truthy', t => {\n  const generated = html2pug('<div><span>Tabs!</span></div>', {\n    fragment: true,\n    tabs: true,\n  })\n  const expected = 'div\\n\\tspan Tabs!'\n\n  t.is(generated, expected)\n})\n\ntest('uses a comma to separate attributes', t => {\n  const generated = html2pug('<input type=\"text\" name=\"foo\" />', {\n    fragment: true, spaces: 2\n  })\n  const expected = \"input(type='text', name='foo')\"\n\n  t.is(generated, expected)\n})\n\ntest('uses a space to separate attributes', t => {\n  const generated = html2pug('<input type=\"text\" name=\"foo\" />', {\n    fragment: true,\n    commas: false,\n    spaces: 2\n  })\n  const expected = \"input(type='text' name='foo')\"\n\n  t.is(generated, expected)\n})\n\ntest('uses double quotes for attribute values', t => {\n  const generated = html2pug('<input type=\"text\" name=\"foo\" />', {\n    fragment: true,\n    doubleQuotes: true,\n    spaces: 2\n  })\n  const expected = 'input(type=\"text\", name=\"foo\")'\n\n  t.is(generated, expected)\n})\n\ntest('single quotes in attribute values are escaped', t => {\n  const generated = html2pug(\n    `<button aria-label=\"closin&apos;\" onclick=\"window.alert('bye')\">close</button>`,\n    {\n      fragment: true, spaces: 2\n    }\n  )\n  const expected = `button(aria-label='closin\\\\'', onclick='window.alert(\\\\'bye\\\\')') close`\n\n  t.is(generated, expected)\n})\n\ntest('collapses boolean attributes', t => {\n  const generated = html2pug(\n    `<input type=\"text\" name=\"foo\" disabled=\"disabled\" readonly=\"readonly\" />`,\n    { fragment: true, spaces: 2 }\n  )\n  const expected = `input(type='text', name='foo', disabled, readonly)`\n\n  t.is(generated, expected)\n})\n"],"mappings":"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","ignoreList":[]}